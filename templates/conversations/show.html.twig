{% extends 'base.html.twig' %}

{% block title %}Conversations{% endblock %}

{% block body %}
<div class="header_div">
    <div class="header_flex">
        <a href="{{ path('conversations_index') }}">
            <img src="{{ asset('/assets/svg/back.svg') }}">
        </a>
    </div>
    <div class="header_titre">
        <a href="{{ path('dashboard') }}">
            <h1>Teens'Up</h1>
        </a>
    </div>
    <div class="header_flex right">
        <a href="{{ path('conversations_index') }}">
            <img src="{{ asset('/assets/svg/delete.svg') }}">
        </a>
    </div>
</div>
</div>
</header>

{{ include('conversations/_delete_form.html.twig') }}

    {% for user in conversation.users %}
        {% if user != app.user %}
        <h1>{{user.prenom}}</h1>
        {% endif %}
    {% endfor %}

    {% for message in conversation.messages %}
        {% if message.users == app.user %}
            <div class="myMessage">
                <h3>{{message.users.prenom}}</h3>
                <p>{{message.messages}}</p>
                {{ message.date ? message.date|date('H:i d-m-Y')}}
            </div>
        {% else %}
            <div class="otherMessage">
                <h3>{{message.users.prenom}}</h3>
                <p>{{message.messages}}</p>
                {{ message.date ? message.date|date('H:i d-m-Y')}}
            </div>
        {% endif %}
        
    {% endfor %}
    {{ include('conversations/_form.html.twig') }}
    
{% endblock %}
